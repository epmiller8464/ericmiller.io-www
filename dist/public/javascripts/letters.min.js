"use strict";

/**
 * letters - An experimental plugin for animating SVG letters using Segment.
 * @version v0.0.2
 * @link https://github.com/lmgonzalves/letters
 * @license MIT
 */
function Letters(e, n) {
  this.el = e, this.text = e.innerHTML.toLowerCase(), e.innerHTML = '<span style="position: absolute; visibility: hidden;">' + this.text + "</span>", this.init(n);
}Letters.prototype = { init: function init(e) {
    this.size = e && e.hasOwnProperty("size") ? e.size : 100, this.weight = e && e.hasOwnProperty("weight") ? e.weight : 1, this.rounded = e && e.hasOwnProperty("rounded") ? e.rounded : !1, this.color = e && e.hasOwnProperty("color") ? e.color : "#5F6062", this.duration = e && e.hasOwnProperty("duration") ? e.duration : 1, this.delay = e && e.hasOwnProperty("delay") ? e.delay : [0, .05], this.fade = e && e.hasOwnProperty("fade") ? e.fade : .5, this.easing = e && e.hasOwnProperty("easing") ? e.easing : d3_ease.easeCubicInOut.ease, this.individualDelays = e && e.hasOwnProperty("individualDelays") ? e.individualDelays : !1, this.visible = !1, this._svgNS = "http://www.w3.org/2000/svg", this.svgs = [], this.timer = [], this.segments = [], this.drawText();
  }, drawText: function drawText() {
    this.letters = this.text.replace(/[^a-ząćęłńóśżź]/g, "").split("");var e = this,
        n = "number" == typeof e.size ? e.size : e.size[0],
        i = "number" == typeof e.weight ? e.weight : e.weight[0],
        t = "boolean" == typeof e.rounded ? e.rounded : e.rounded[0],
        a = "string" == typeof e.color ? e.color : e.color[0],
        s = "number" == typeof e.fade ? e.fade : e.fade[0];e.renderAlphabet = "number" == typeof e.weight && "boolean" == typeof e.rounded ? e.initAlphabet(i, t) && !1 : !0;var d = 0;this.letters.forEach(function (g, l) {
      n = "number" == typeof e.size[l] ? e.size[l] : n, i = "number" == typeof e.weight[l] ? e.weight[l] : i, t = "boolean" == typeof e.rounded[l] ? e.rounded[l] : t, a = "string" != typeof e.color && "string" == typeof e.color[l] ? e.color[l] : a, s = "number" == typeof e.fade[l] ? e.fade[l] : s, e.renderAlphabet && e.initAlphabet(i, t), " " === g ? (e.drawLetter(g, l, n), d++) : e.segments[l - d] = e.drawLetter(g, l - d, n, i, t, a, s);
    }), this.letters = this.text.replace(/[^a-ząćęłńóśżź]/g, "").split("");
  }, drawLetter: function drawLetter(e, n, i, t, a, s, d) {
    if (" " !== e) {
      var g,
          l,
          b = this.createSVG(this.alphabet[e].svg, e, t, n, i, d),
          h = [],
          r = this.alphabet[e].paths,
          o = this.alphabet[e].initial,
          p = this;return r.forEach(function (e, n) {
        g = document.createElementNS(p._svgNS, "path"), g.setAttribute("d", e), g.setAttribute("stroke-width", t), g.setAttribute("stroke-linecap", a ? "round" : "butt"), g.setAttribute("stroke", s), g.setAttribute("fill", "none"), l = new Segment(g, o[n].begin, o[n].end, !0), h.push(l), b.appendChild(g);
      }), h;
    }this.createSVG(this.alphabet[e].svg, "space", t, n, i);
  }, createSVG: function createSVG(e, n, i, t, a, s) {
    var d = document.createElementNS(this._svgNS, "svg");d.setAttribute("aria-hidden", "true"), d.setAttribute("role", "img"), d.setAttribute("viewBox", "0 0 " + e.width + " " + e.height), d.setAttribute("height", a + 1.5 * i + "px");var g = a * (e.width / e.height);return d.setAttribute("width", Math.ceil(g) + "px"), d.setAttribute("class", "letter letter-" + n + ("space" !== n ? " letter-" + (t + 1) : "")), this.el.appendChild(d), "space" !== n ? (this.svgs[t] = d, s && (d.style.opacity = 0, this.setupFade(s, t)), d) : void 0;
  }, setupFade: function setupFade(e, n) {
    var i = this.svgs[n];e ? (i.style.transition = e + "s opacity", i.style.webkitTransition = e + "s opacity") : i.style.transition = null;
  }, show: function show(e) {
    this.visible = !0, this.clear();var n,
        i,
        t = e && e.hasOwnProperty("duration") ? e.duration : this.duration,
        a = e && e.hasOwnProperty("delay") ? e.delay : this.delay,
        s = e && e.hasOwnProperty("fade") ? e.fade : this.fade,
        d = e && e.hasOwnProperty("easing") ? e.easing : this.easing,
        g = e && e.hasOwnProperty("individualDelays") ? e.individualDelays : this.individualDelays,
        l = 0,
        b = 0,
        h = "number" == typeof t ? t : t[0],
        r = "number" == typeof s ? s : s[0],
        o = "function" == typeof d ? d : d[0],
        p = this;p.renderAlphabet && (n = "number" == typeof p.weight ? p.weight : p.weight[0], i = "boolean" == typeof p.rounded ? p.rounded : p.rounded[0]);var f = this.letters.length;this.letters.forEach(function (u, y) {
      h = "number" == typeof t[y] ? t[y] : h, r = "number" == typeof s[y] ? s[y] : r, o = "function" == typeof d[y] ? d[y] : o, "number" == typeof a ? l = g ? a : l + a : (b = "number" == typeof a[y] ? a[y] : b, l = g ? b : l + b), l ? p.timer[y] = setTimeout(function () {
        p.setupFade(r, y), p.svgs[y].style.opacity = 1, p.el.offsetHeight;
      }, 1e3 * l) : (p.setupFade(r, y), p.svgs[y].style.opacity = 1, p.el.offsetHeight), p.renderAlphabet && (n = "number" == typeof p.weight[y] ? p.weight[y] : n, i = "boolean" == typeof p.rounded[y] ? p.rounded[y] : i, p.initAlphabet(n, i));var c = y === f - 1 && e && e.hasOwnProperty("callback") ? e.callback : null,
          v = p.alphabet[u]["final"],
          m = p.segments[y];m.forEach(function (e, n) {
        e.draw(v[n].begin, v[n].end, h, { delay: l, circular: !0, easing: o, callback: c }), c = null;
      });
    });
  }, hide: function hide(e) {
    this.visible = !1, this.clear();var n = e && e.hasOwnProperty("duration") ? e.duration : this.duration,
        i = e && e.hasOwnProperty("delay") ? e.delay : this.delay,
        t = e && e.hasOwnProperty("fade") ? e.fade : this.fade,
        a = e && e.hasOwnProperty("easing") ? e.easing : this.easing,
        s = e && e.hasOwnProperty("individualDelays") ? e.individualDelays : this.individualDelays,
        d = 0,
        g = 0,
        l = "number" == typeof n ? n : n[0],
        b = "number" == typeof t ? t : t[0],
        h = "function" == typeof a ? a : a[0],
        r = this,
        o = this.letters.length;this.letters.forEach(function (p, f) {
      l = "number" == typeof n[f] ? n[f] : l, b = "number" == typeof t[f] ? t[f] : b, h = "function" == typeof a[f] ? a[f] : h, "number" == typeof i ? d = s ? i : d + i : (g = "number" == typeof i[f] ? i[f] : g, d = s ? g : d + g), r.setupFade(b, f);var u = 1e3 * (l - b + d);u ? r.timer[f] = setTimeout(function () {
        r.svgs[f].style.opacity = 0, r.el.offsetHeight;
      }, u) : (r.svgs[f].style.opacity = 0, r.el.offsetHeight);var y = f === o - 1 && e && e.hasOwnProperty("callback") ? e.callback : null,
          c = r.alphabet[p].initial,
          v = r.segments[f];v.forEach(function (e, n) {
        e.draw(c[n].begin, c[n].end, l, { delay: d, circular: !0, easing: h, callback: y }), y = null;
      });
    });
  }, toggle: function toggle(e) {
    this.visible ? this.hide(e) : this.show(e);
  }, showInstantly: function showInstantly() {
    this.show({ duration: 0, delay: 0, fade: 0 });
  }, hideInstantly: function hideInstantly() {
    this.hide({ duration: 0, delay: 0, fade: 0 });
  }, toggleInstantly: function toggleInstantly() {
    this.toggle({ duration: 0, delay: 0, fade: 0 });
  }, clear: function clear() {
    var e = this;this.letters.forEach(function (n, i) {
      clearTimeout(e.timer[i]);
    });
  }, initAlphabet: function initAlphabet(e, n) {
    var i = 44 + e,
        t = 94 + 2 * e,
        a = 20,
        s = n ? 0 : e / 2,
        d = "m 0 -" + a + " a " + a + " " + a + " 0 1 1 0 " + 2 * a + " a " + a + " " + a + " 0 1 1 0 -" + 2 * a,
        g = "m 0 -" + a / 2 + " a " + a / 2 + " " + a / 2 + " 0 1 1 0 " + -a,
        l = "m " + i / 2 + " " + t / 2 + " " + d,
        b = "m 18 24 m -1 0 a 1 1 0 1 0 2 0 a 1 1 0 1 0 -2 0",
        h = "m " + i / 2 + " " + (t + 2) + g,
        r = "m " + (i / 2 + 20) + " " + (t + 2) + g,
        o = "m " + i / 2 + " " + t / 4 + " l " + a / 2 + " " + -a / 2,
        p = "m 32.5 " + t / 4 + " l " + a / 2 + " " + -a / 2,
        f = "m " + i / 4 + " " + t / 4 + " l " + a / 2 + " " + -a / 2,
        u = "m " + (i / 2 - a) / 2 + " " + 2 * a + " l " + a / 2 + " " + -a / 2,
        y = "m " + i / 2 + " " + t / 2 + " " + d,
        c = "m " + (i / 2 + 2 * a) + " " + t / 2 + " " + d,
        v = "m " + i / 2 + " " + (t / 2 - 12) + " " + d,
        m = "m " + i / 2 + " " + (t / 2 + e / 2) + " " + d,
        w = "m " + i / 2 + " " + (t / 2 + a + s) + " " + d,
        O = "m " + (i / 2 - a - s) + " " + (t / 2 + a + s) + " " + d,
        P = "m " + (i / 2 - a - s) + " " + t / 2 + " " + d,
        A = "m " + (i / 2 + a - s) + " " + t / 2 + " " + d,
        k = "m " + (i / 2 - a) + " 0 l 0 " + t,
        z = "m " + (i / 2 - a) + " 0 l 0 " + t,
        x = "m " + (i / 2 + a) + " 0 l 0 " + t,
        D = "m " + (i / 2 + 3 * a) + " 0 l 0 " + t,
        E = "m " + (i / 2 - a) + " 0 l 0 " + t,
        S = "m " + 2 * (i / 2 - a) + " 0 l 0 " + t,
        L = "m 0 " + (t / 2 + s + (s ? 0 : 1)) + " l " + i + " 0",
        T = "m " + (i / 2 - s) + " 0 l 0 " + t,
        F = "m 0 " + (t / 2 - a) + " l " + i + " 0",
        H = { width: i, height: t },
        N = { width: i + 2 * a, height: t },
        C = { width: i - a - s, height: t },
        I = { width: i - 2 * s, height: t },
        _ = "50% + " + (a + s),
        G = "50% - " + (a + s),
        M = "50% - " + a,
        V = "50% - " + (a + s + 12);this.alphabet = { a: { svg: H, paths: [l, x], initial: [{ begin: "5%", end: "5%" }, { begin: "90%", end: "90%" }], "final": [{ begin: "50%", end: "125% + 1" }, { begin: "50%", end: _ }] }, "ą": { svg: H, paths: [l, x, r], initial: [{ begin: "5%", end: "5%" }, { begin: "50%", end: "50%" }, { begin: "5%", end: "5%" }], "final": [{ begin: "50%", end: "125% + 1" }, { begin: "50%", end: p50plus23 }, { begin: "28.5%", end: "125% + 1" }] }, b: { svg: H, paths: [l, k], initial: [{ begin: "-125%", end: "-125%" }, { begin: "5%", end: "5%" }], "final": [{ begin: "-125%", end: "-50%" }, { begin: V, end: _ }] }, c: { svg: H, paths: [l], initial: [{ begin: "105%", end: "105%" }], "final": [{ begin: "-50%", end: "25%" }] }, "ć": { svg: H, paths: [l, o], initial: [{ begin: "105%", end: "105%" }, { begin: "5%", end: "5%" }], "final": [{ begin: "-50%", end: "25%" }, { begin: "0%", end: "75%" }] }, d: { svg: H, paths: [l, x], initial: [{ begin: "125%", end: "125%" }, { begin: "5%", end: "5%" }], "final": [{ begin: "50%", end: "125%" }, { begin: V, end: _ }] }, e: { svg: H, paths: [l, L], initial: [{ begin: "-105%", end: "-105%" }, { begin: "5%", end: "5%" }], "final": [{ begin: "50%", end: "125% + 1" }, { begin: "50%", end: _ }] }, "ę": { svg: H, paths: [l, L, h], initial: [{ begin: "-105%", end: "-105%" }, { begin: "5%", end: "5%" }, { begin: "5%", end: "5%" }], "final": [{ begin: "50%", end: "125% + 1" }, { begin: "50%", end: p50plus23 }, { begin: "28.5%", end: "125% + 1" }] }, f: { svg: C, paths: [v, m, k], initial: [{ begin: "-25%", end: "-25%" }, { begin: "1", end: "1" }, { begin: "50% - 13", end: "50% - 13" }], "final": [{ begin: "-25%", end: "1" }, { begin: "-25%", end: "1" }, { begin: "50% - 13", end: _ }] }, g: { svg: H, paths: [l, w, x], initial: [{ begin: "25%", end: "25%" }, { begin: "-10%", end: "-10%" }, { begin: "50%", end: "50%" }], "final": [{ begin: "-50%", end: "25% + 1" }, { begin: "-75% - 1", end: "-50%" }, { begin: "50%", end: _ }] }, h: { svg: H, paths: [l, k, x], initial: [{ begin: "-25%", end: "-25%" }, { begin: "10%", end: "10%" }, { begin: "90%", end: "90%" }], "final": [{ begin: "-150%", end: "-75% + 1" }, { begin: V, end: "50%" }, { begin: "50%", end: _ }] }, i: { svg: { width: i - 2 * a, height: t }, paths: [E], initial: [{ begin: "50%", end: "50%" }], "final": [{ begin: G, end: _ }] }, j: { svg: C, paths: [O, T], initial: [{ begin: "5%", end: "5%" }, { begin: G, end: G }], "final": [{ begin: "25% - 1", end: "50%" }, { begin: G, end: _ }] }, k: { svg: H, paths: [l, k], initial: [{ begin: "50%", end: "50%" }, { begin: "80%", end: "80%" }], "final": [{ begin: "25%", end: "100%" }, { begin: V, end: _ }] }, l: { svg: { width: i - 2 * a, height: t }, paths: [E], initial: [{ begin: "50%", end: "50%" }], "final": [{ begin: V, end: _ }] }, "ł": { svg: { width: 2 * (i - 2 * a), height: t }, paths: [S, u], initial: [{ begin: "50%", end: "50%" }, { begin: "5%", end: "5%" }], "final": [{ begin: p50minus35, end: p50plus23 }, { begin: "0%", end: "75%" }] }, m: { svg: N, paths: [y, c, z], initial: [{ begin: "90%", end: "90%" }, { begin: "90%", end: "90%" }, { begin: "90%", end: "90%" }], "final": [{ begin: "-25%", end: "50%" }, { begin: "-25%", end: "50%" }, { begin: G, end: _ }] }, n: { svg: H, paths: [l, k], initial: [{ begin: "-60%", end: "-60%" }, { begin: "90%", end: "90%" }], "final": [{ begin: "-25%", end: "50%" }, { begin: G, end: _ }] }, "ń": { svg: H, paths: [l, k, o], initial: [{ begin: "-60%", end: "-60%" }, { begin: "90%", end: "90%" }, { begin: "5%", end: "5%" }], "final": [{ begin: "-25%", end: "50%" }, { begin: p50minus23, end: p50plus23 }, { begin: "0%", end: "75%" }] }, o: { svg: H, paths: [l], initial: [{ begin: "-150%", end: "-150%" }], "final": [{ begin: "2%", end: "98%" }] }, "ó": { svg: H, paths: [l, o], initial: [{ begin: "-150%", end: "-150%" }, { begin: "5%", end: "5%" }], "final": [{ begin: "2%", end: "98%" }, { begin: "0%", end: "75%" }] }, p: { svg: H, paths: [l, k], initial: [{ begin: "25%", end: "25%" }, { begin: _, end: _ }], "final": [{ begin: "-25% - 1", end: "50%" }, { begin: "50%", end: "50% + 46" }] }, q: { svg: H, paths: [l, x], initial: [{ begin: "-25%", end: "-25%" }, { begin: _, end: _ }], "final": [{ begin: "-50%", end: "25% + 1" }, { begin: "50%", end: "50% + 46" }] }, r: { svg: C, paths: [l, k], initial: [{ begin: "-25% - 1", end: "-25% - 1" }, { begin: "50%", end: "50%" }], "final": [{ begin: "-25% - 1", end: "1" }, { begin: "50%", end: _ }] }, s: { svg: I, paths: [P, A], initial: [{ begin: "50%", end: "50%" }, { begin: "1", end: "1" }], "final": [{ begin: "25%", end: "50%" }, { begin: "-25% - 1", end: "1" }] }, "ś": { svg: I, paths: [P, A, p], initial: [{ begin: "50%", end: "50%" }, { begin: "1", end: "1" }, { begin: "5%", end: "5%" }], "final": [{ begin: "25%", end: "50%" }, { begin: "-25% - 1", end: "1" }, { begin: "0%", end: "75%" }] }, t: { svg: C, paths: [l, k, F], initial: [{ begin: "50%", end: "50%" }, { begin: "5%", end: "5%" }, { begin: "50%", end: "50%" }], "final": [{ begin: "50%", end: "75% + 1" }, { begin: V, end: "50%" }, { begin: M, end: "50%" }] }, u: { svg: H, paths: [l, x], initial: [{ begin: "50%", end: "50%" }, { begin: "80%", end: "80%" }], "final": [{ begin: "25%", end: "100%" }, { begin: G, end: _ }] }, v: { svg: H, paths: [l, x], initial: [{ begin: "10%", end: "10%" }, { begin: "20%", end: "20%" }], "final": [{ begin: "25% - 1", end: "100%" }, { begin: G, end: "50%" }] }, w: { svg: N, paths: [y, c, D], initial: [{ begin: "10%", end: "10%" }, { begin: "10%", end: "10%" }, { begin: "20%", end: "20%" }], "final": [{ begin: "25%", end: "100%" }, { begin: "25% - 1", end: "100%" }, { begin: G, end: "50%" }] }, x: { svg: I, paths: [P, A], initial: [{ begin: "50%", end: "50%" }, { begin: "1", end: "1" }], "final": [{ begin: "0", end: "50%" }, { begin: "-50%", end: "1" }] }, y: { svg: H, paths: [l, w, x], initial: [{ begin: "1", end: "1" }, { begin: "1", end: "1" }, { begin: G, end: G }], "final": [{ begin: "-75%", end: "1" }, { begin: "25% - 1", end: "50%" }, { begin: G, end: _ }] }, z: { svg: I, paths: [P, A], initial: [{ begin: "25%", end: "25%" }, { begin: "75%", end: "75%" }], "final": [{ begin: "0", end: "25% + 1" }, { begin: "50%", end: "75%" }] }, "ż": { svg: I, paths: [P, A, b], initial: [{ begin: "25%", end: "25%" }, { begin: "75%", end: "75%" }, { begin: "25%", end: "25%" }], "final": [{ begin: "0", end: "25% + 1" }, { begin: "50%", end: "75%" }, { begin: "-25%", end: "75%" }] }, "ź": { svg: I, paths: [P, A, f], initial: [{ begin: "25%", end: "25%" }, { begin: "75%", end: "75%" }, { begin: "5%", end: "5%" }], "final": [{ begin: "0", end: "25% + 1" }, { begin: "50%", end: "75%" }, { begin: "0%", end: "75%" }] }, " ": { svg: H } };
  } };
//# sourceMappingURL=letters.min.js.map