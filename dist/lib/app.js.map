{"version":3,"sources":["../../lib/app.js"],"names":["noop","$","window","CONSTANTS","$el","class","LOADING_TIMEOUT","Loaded","opts","loadedHandler","doneHandler","self","delay","onReady","console","log","setTimeout","initEvents","click","alert","addClass","retype","startTyping","el","text","typed","strings","typeSpeed","html","showCursor","startDelay","callback","removeClass","doneLoading","VisualVoiceMail","player","audioComponents","isMobileDevice","browser","mobile","touched","voicemailElements","$mute","$replay","recording","$container","type","children","fadeIn","i","localStorage","getItem","setItem","loadAudioVisualControl","_cb","cb","played","_player","Howl","src","autoplay","preload","loop","volume","html5","rate","mute","once","duration","on","showAudioControls","disableAudioControls","bindEvents","smoothScroll","init","document","ready","affix","offset","top","height","keypress","RegExp","test","val","hideAudioControls","focusout","bindTouchEvents","getElementsByTagName","addEventListener","loadRecordedMessage","_audioComponents","voices","map","prop","recordingKey","data","waveFormEl","waveform","split","controls","$play","find","$pause","$stop","$delete","$status","$duration","howl","toArray","length","config","audio","AudioComponent","push","App","me","options","particlesJS","load","voicemail","body","visualVoiceMail","imagesLoaded"],"mappings":"AAAA;;AAEA;AACA;AACA;;;;;AAEA,IAAMA,OAAO,SAAPA,IAAO,GAAY,CAAE,CAA3B;AACA,IAAMC,IAAIC,OAAOD,CAAP,IAAYD,IAAtB;;AAEA,IAAMG,YAAY;AAChBC,OAAK,MADW;AAEhBC,SAAO,SAFS;AAGhBC,mBAAiB;AAHD,CAAlB;;AAMA,IAAIC,SAAS,SAATA,MAAS,CAAUC,IAAV,EAA0D;AAAA,MAA1CC,aAA0C,uEAA1BT,IAA0B;AAAA,MAApBU,WAAoB,uEAANV,IAAM;;AACrE,MAAI,EAAE,gBAAgBO,MAAlB,CAAJ,EAA+B,OAAO,IAAIA,MAAJ,CAAWC,IAAX,EAAiBC,aAAjB,EAAgCC,WAAhC,CAAP;AAC/B,MAAIC,OAAO,IAAX;AACA;AACAA,OAAKC,KAAL,GAAaJ,KAAKI,KAAlB;AACAD,OAAKF,aAAL,GAAqBA,aAArB;AACAE,OAAKD,WAAL,GAAmBA,WAAnB;;AAEAC,OAAKE,OAAL,GAAe,YAAY;AACzB,QAAIF,OAAO,IAAX;AACAG,YAAQC,GAAR,CAAY,6BAAZ,EAA2CJ,KAAKC,KAAhD;AACAI,eAAW,YAAY;AACrBL,WAAKF,aAAL;AACAE,WAAKD,WAAL;AACD,KAHD,EAGGC,KAAKC,KAHR,EAGeD,IAHf;AAID,GAPD;AAQA,SAAOA,IAAP;AACD,CAjBD;;AAmBA,IAAMM,aAAa,SAAbA,UAAa,CAACT,IAAD,EAAU;AAC3B;AACAP,IAAE,YAAF,EAAgBiB,KAAhB,CAAsB,YAAY;AAChC;AACAC,UAAM,8BAAN;AACD,GAHD;;AAKAlB,IAAE,YAAF,EAAgBiB,KAAhB,CAAsB,YAAY;AAChCjB,MAAE,YAAF,EAAgBmB,QAAhB,CAAyB,MAAzB;AACAC;AACD,GAHD;AAID,CAXD;;AAaA,IAAMC,cAAc,SAAdA,WAAc,OAAgB;AAAA,MAAdC,EAAc,QAAdA,EAAc;AAAA,MAAVC,IAAU,QAAVA,IAAU;;AAClC;AACAvB,IAAE,OAAF,EAAWwB,KAAX,CAAiB;AACfC,aAAS,CAAC,+EAAD,CADM;AAEfC,eAAW,CAFI;AAGfC,UAAM,IAHS;AAIfC,gBAAY,KAJG;AAKfC,gBAAY,CALG;AAMfC,cAAU,oBAAY;AACpB9B,QAAE,SAAF,EAAawB,KAAb,CAAmB;AACjBC,iBAAS,CAAC,sEAAD,CADQ;AAEjBC,mBAAW,CAFM;AAGjBC,cAAM,IAHW;AAIjBC,oBAAY,KAJK;AAKjBC,oBAAY,CALK;AAMjBC,kBAAU,oBAAY;AACpB9B,YAAE,YAAF,EAAgB+B,WAAhB,CAA4B,MAA5B;AACD;AARgB,OAAnB;AAUD;AAjBc,GAAjB;AAmBD,CArBD;;AAuBA,IAAMC,cAAc,SAAdA,WAAc,GAAM;AACxBhC,IAAE,MAAF,EAAU+B,WAAV,CAAsB,SAAtB;AACAX;AACD,CAHD;;AAKA,SAASA,MAAT,GAAmB;AACjBpB,IAAE,WAAF,EAAeuB,IAAf,CAAoB,EAApB;AACAvB,IAAE,QAAF,EAAYuB,IAAZ,CAAiB,EAAjB;AACAvB,IAAE,SAAF,EAAauB,IAAb,CAAkB,EAAlB;AACAvB,IAAE,OAAF,EAAWuB,IAAX,CAAgB,EAAhB;AACAvB,IAAE,SAAF,EAAauB,IAAb,CAAkB,EAAlB;AACAvB,IAAE,WAAF,EAAewB,KAAf,CAAqB;AACnBC,aAAS,CAAC,+BAAD,CADU;AAEnBC,eAAW,EAFQ;AAGnBE,gBAAY,KAHO;AAInBD,UAAM,IAJa;AAKnBG,cAAU,oBAAY;AACpB9B,QAAE,QAAF,EAAYwB,KAAZ,CAAkB;AAChBC,iBAAS,CAAC,sDAAD,CADO;AAEhBC,mBAAW,EAFK;AAGhBC,cAAM,IAHU;AAIhBC,oBAAY,KAJI;AAKhBC,oBAAY,EALI;AAMhBC,kBAAU,oBAAY;AACpB9B,YAAE,SAAF,EAAawB,KAAb,CAAmB;AACjBC,qBAAS,CAAC,uHAAD,CADQ;AAEjBC,uBAAW,CAFM;AAGjBC,kBAAM,IAHW;AAIjBC,wBAAY,KAJK;AAKjBC,wBAAY,EALK;AAMjBC,sBAAU,oBAAY;AACpB9B,gBAAE,YAAF,EAAgB+B,WAAhB,CAA4B,MAA5B;AACD;AARgB,WAAnB;AAUD;AAjBe,OAAlB;AAmBD;AAzBkB,GAArB;AA2BD;;AAED,SAASE,eAAT,CAA0B1B,IAA1B,EAAiD;AAAA,MAAjBuB,QAAiB,uEAAN/B,IAAM;;AAC/C,MAAI,EAAE,gBAAgBkC,eAAlB,CAAJ,EAAwC,OAAO,IAAIA,eAAJ,CAAoB1B,IAApB,EAA0BuB,QAA1B,CAAP;;AAExC,MAAIpB,OAAO,IAAX;AACAA,OAAKwB,MAAL,GAAc,IAAd;AACAxB,OAAKyB,eAAL,GAAuB,EAAvB;AACAzB,OAAK0B,cAAL,GAAsBC,UAAUC,MAAhC;AACA5B,OAAK6B,OAAL,GAAe,KAAf;;AAEA7B,OAAK8B,iBAAL,GAAyB;AACvBC,WAAO,IADgB;AAEvBC,aAAS;AAFc,GAAzB;;AAKAhC,OAAKiC,SAAL,GAAiB;AACfC,gBAAY5C,EAAE,iBAAF;AADG,GAAjB;;AAIAU,OAAKmC,IAAL,GAAY,SAASA,IAAT,GAAiB;AAC3B,QAAInC,OAAO,IAAX;;AAEAV,MAAE,qBAAF,EAAyBwB,KAAzB,CAA+B;AAC7BC,eAAS,CAAC,kKAAD,CADoB;AAE7BC,iBAAW,IAFkB;AAGnC;AACMC,YAAM,IAJuB;AAK7BC,kBAAY,KALiB;AAM7BC,kBAAY,CANiB;AAOnC;AACA;AACMC,gBAAU,oBAAY;AACpB9B,UAAE,eAAF,EAAmB+B,WAAnB,CAA+B,MAA/B,EAAuCe,QAAvC,CAAgD,YAAhD,EAA8D3B,QAA9D,CAAuE,aAAvE,EAAsF4B,MAAtF;AACA,YAAIC,IAAI/C,OAAOgD,YAAP,CAAoBC,OAApB,CAA4B,YAA5B,CAAR;AACAjD,eAAOgD,YAAP,CAAoBE,OAApB,CAA4B,YAA5B,EAA0C,EAAEH,CAA5C;AACAnC,gBAAQC,GAAR,CAAYkC,CAAZ;AACD;AAd4B,KAA/B;AAgBD,GAnBD;;AAqBAtC,OAAK0C,sBAAL,GAA8B,SAASA,sBAAT,GAA6C;AAAA,QAAZC,GAAY,uEAANtD,IAAM;;AACzE,QAAIW,OAAO,IAAX;;AAEA,QAAI4C,KAAKD,GAAT;AACA,QAAI3C,OAAO,IAAX;AACA,QAAI6C,SAAS,KAAb,CALyE,CAKvD;AAClB,QAAIC,UAAU,IAAIC,IAAJ,CAAS;AACrBC,WAAK,CAAC,mBAAD,CADgB;AAErBC,gBAAU,IAFW;AAGrBC,eAAS,IAHY;AAIrBC,YAAM,KAJe;AAKrBC,cAAQ,CAAEP,MAAF,GAAY,GAAZ,GAAkB,GALL;AAMrBQ,aAAO,IANc;AAOrBC,YAAM,IAPe;AAQrBC,YAAM;AARe,KAAT,CAAd;AAUAT,YAAQU,IAAR,CAAa,MAAb,EAAqB,YAAY;AAC/BrD,cAAQC,GAAR,CAAY,cAAZ;AACAD,cAAQC,GAAR,CAAY0C,QAAQW,QAAR,EAAZ;AACAzD,WAAKmC,IAAL;AACAQ,UAAI,IAAJ;AACD,KALD;AAMJ;AACIG,YAAQY,EAAR,CAAW,KAAX,EAAkB,YAAY;AAC5B,UAAI,CAACb,MAAL,EAAa;AAAEtD,eAAOgD,YAAP,CAAoBE,OAApB,CAA4B,YAA5B,EAA0C,CAA1C;AAA8C;AAC9D,KAFD;AAGA,WAAOK,OAAP;AACD,GA3BD;;AA6BA9C,OAAK2D,iBAAL,GAAyB,SAASA,iBAAT,GAA8B;AACrD,QAAI3D,OAAO,IAAX;;AAEAA,SAAKiC,SAAL,CAAeC,UAAf,CAA0Bb,WAA1B,CAAsC,MAAtC;AACD,GAJD;;AAMArB,OAAK2D,iBAAL,GAAyB,SAASC,oBAAT,GAAiC;AACxD,QAAI5D,OAAO,IAAX;;AAEAA,SAAKiC,SAAL,CAAeC,UAAf,CAA0BzB,QAA1B,CAAmC,MAAnC;AACJ;AACG,GALD;;AAOAT,OAAK6D,UAAL,GAAkB,SAASA,UAAT,GAAuB;AACvC,QAAI7D,OAAO,IAAX;AACA8D,iBAAaC,IAAb;AACAzE,MAAE0E,QAAF,EAAYC,KAAZ,CAAkB,YAAM;AACtB3E,QAAE,aAAF,EAAiB4E,KAAjB,CAAuB;AACrBC,gBAAQ;AACNC,eAAK9E,EAAEC,MAAF,EAAU8E,MAAV;AADC;AADa,OAAvB;AAKA/E,QAAE,cAAF,EAAkBgF,QAAlB,CAA2B,YAAY;AACrC,YAAI,IAAIC,MAAJ,CAAW,WAAX,EAAwBC,IAAxB,CAA6BlF,EAAE,IAAF,EAAQmF,GAAR,EAA7B,CAAJ,EAAiD;AAC/CnF,YAAE,WAAF,EAAe+B,WAAf,CAA2B,MAA3B;AACD,SAFD,MAEO;AACLrB,eAAK0E,iBAAL;AACD;AACF,OAND;AAOApF,QAAE,cAAF,EAAkBqF,QAAlB,CAA2B,YAAY;AACrC,YAAI,IAAIJ,MAAJ,CAAW,WAAX,EAAwBC,IAAxB,CAA6BlF,EAAE,IAAF,EAAQmF,GAAR,EAA7B,CAAJ,EAAiD;AAC/CnF,YAAE,WAAF,EAAe+B,WAAf,CAA2B,MAA3B;AACV;AACS,SAHD,MAGO;AACf;AACU/B,YAAE,IAAF,EAAQmB,QAAR,CAAiB,UAAjB;AACD;AACF,OARD;AASAnB,QAAE,OAAF,EAAWiB,KAAX,CAAiB,YAAY;AAC3B;AACA;AACAP,aAAK2D,iBAAL;AACD,OAJD;AAKArE,QAAE,kBAAF,EAAsBiB,KAAtB,CAA4B,YAAY;AACtCjB,UAAE,kBAAF,EAAsB8C,QAAtB,CAA+B,KAA/B,EAAsCf,WAAtC,CAAkD,cAAlD,EAAkEZ,QAAlE,CAA2E,aAA3E;AACAnB,UAAE,mBAAF,EAAuB+B,WAAvB,CAAmC,MAAnC;AACD,OAHD;AAID,KA/BD;AAgCD,GAnCD;;AAqCArB,OAAK4E,eAAL,GAAuB,SAASA,eAAT,GAAqC;AAAA,QAAXhC,EAAW,uEAANvD,IAAM;;AAC1D,QAAIW,OAAO,IAAX;AACAV,MAAE,YAAF,EAAgB+B,WAAhB,CAA4B,MAA5B;AACA,QAAIT,KAAKoD,SAASa,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,CAAT;AACA,QAAIhD,UAAU,KAAd;AACAjB,OAAGkE,gBAAH,CAAoB,YAApB,EAAkC,YAAY;AAC5C,UAAIjD,OAAJ,EAAa;AAAE;AAAQ;;AAEvBA,gBAAU,IAAV;AACA7B,WAAKwB,MAAL,GAAcxB,KAAK0C,sBAAL,CAA4BE,EAA5B,CAAd;AACAA;AACD,KAND,EAMG,KANH;AAOD,GAZD;;AAcA5C,OAAK+E,mBAAL,GAA2B,SAASA,mBAAT,GAAgC;AACzD,QAAI/E,OAAO,IAAX;AACA,QAAIgF,mBAAmB,EAAvB;AACA,QAAIC,SAAS3F,EAAE,qBAAF,EAAyB4F,GAAzB,CAA6B,UAAU5C,CAAV,EAAa1B,EAAb,EAAiB;AACzD,aAAO;AACLA,YAAI,MAAMtB,EAAEsB,EAAF,EAAMuE,IAAN,CAAW,IAAX,CADL;AAELC,sBAAc9F,EAAEsB,EAAF,EAAMyE,IAAN,CAAW,eAAX,CAFT;AAGLC,oBAAYhG,EAAEsB,EAAF,EAAMyE,IAAN,CAAW,qBAAX,CAHP;AAILE,kBAAU,CAACjG,EAAEsB,EAAF,EAAMyE,IAAN,CAAW,WAAX,EAAwBG,KAAxB,CAA8B,GAA9B,CAAD,CAJL;AAKLC,kBAAU;AACRC,iBAAOpG,EAAEsB,EAAF,EAAM+E,IAAN,CAAW,aAAX,EAA0B,CAA1B,CADC;AAERC,kBAAQtG,EAAEsB,EAAF,EAAM+E,IAAN,CAAW,cAAX,EAA2B,CAA3B,CAFA;AAGRE,iBAAOvG,EAAEsB,EAAF,EAAM+E,IAAN,CAAW,aAAX,EAA0B,CAA1B,CAHC;AAIRG,mBAASxG,EAAEsB,EAAF,EAAM+E,IAAN,CAAW,eAAX,EAA4B,CAA5B,CAJD;AAKRI,mBAASzG,EAAEsB,EAAF,EAAM+E,IAAN,CAAW,SAAX,EAAsB,CAAtB,CALD;AAMRK,qBAAW1G,EAAEsB,EAAF,EAAM+E,IAAN,CAAW,WAAX,EAAwB,CAAxB;AANH,SALL;AAaLM,cAAM;AACJjD,eAAK,CAAC1D,EAAEsB,EAAF,EAAMyE,IAAN,CAAW,WAAX,CAAD,CADD;AAEJpC,oBAAU,KAFN;AAGJC,mBAAS,KAHL;AAIJC,gBAAM,KAJF;AAKJC,kBAAQ,GALJ;AAMJC,iBAAO;AANH;;AAbD,OAAP;AAuBD,KAxBY,EAwBV6C,OAxBU,EAAb;;AA0BA,SAAK,IAAI5D,IAAI,CAAb,EAAgBA,IAAI2C,OAAOkB,MAA3B,EAAmC7D,GAAnC,EAAwC;AACtC,UAAI8D,SAASnB,OAAO3C,CAAP,CAAb;AACA,UAAI+D,QAAQ,IAAIC,cAAJ,CAAmBF,MAAnB,CAAZ;AACApB,uBAAiBuB,IAAjB,CAAsBF,KAAtB;AACD;AACD,WAAOrB,gBAAP;AACD,GAnCD;;AAqCAhF,OAAK+D,IAAL,GAAY,SAASA,IAAT,GAA0B;AAAA,QAAXnB,EAAW,uEAANvD,IAAM;;AACpC,QAAIW,OAAO,IAAX;;AAEAA,SAAK6D,UAAL;AACA,QAAI7D,KAAK0B,cAAT,EAAyB;AACvB1B,WAAK4E,eAAL,CAAqBhC,EAArB;AACD,KAFD,MAEO;AACL5C,WAAKwB,MAAL,GAAcxB,KAAK0C,sBAAL,CAA4BE,EAA5B,CAAd;AACD;AACD5C,SAAKyB,eAAL,GAAuBzB,KAAK+E,mBAAL,EAAvB;AACD,GAVD;;AAYA/E,OAAK+D,IAAL,CAAU3C,QAAV;AACA,SAAOpB,IAAP;AACD;;AAED,IAAMwG,MAAM;AACVC,MAAI,YAAUC,OAAV,EAA8B;AAAA,QAAX9D,EAAW,uEAANvD,IAAM;;AAChC;AACAsH,gBAAYC,IAAZ,CAAiB,cAAjB,EAAiC,gBAAjC,EAAmD,YAAY;AAC7DzG,cAAQC,GAAR,CAAY,oBAAZ;AACAE;AACAV,aAAO8G,OAAP,EAAgBrH,IAAhB,EAAsB,YAAY;AAChCC,UAAE,MAAF,EAAU+B,WAAV,CAAsB,SAAtB;AACAX;AACAkC;AACD,OAJD,EAIG1C,OAJH;AAKD,KARD;AASD,GAZS;AAaV2G,aAAW,mBAACH,OAAD,EAAwB;AAAA,QAAd9D,EAAc,uEAATvD,IAAS;;AACjC,QAAIyH,OAAO9C,SAAS8C,IAApB;AACA,QAAIC,kBAAkB,IAAtB;;AAEAC,iBAAaF,IAAb,EAAmB,YAAM;AACvB3G,cAAQC,GAAR,CAAY,eAAZ;AACAR,aAAO8G,OAAP,EAAgB,YAAM;AACpBK,0BAAkB,IAAIxF,eAAJ,CAAoB,EAApB,EAAwB,YAAM;AAC9CpB,kBAAQC,GAAR,CAAY,cAAZ;AACAd,YAAE,MAAF,EAAU+B,WAAV,CAAsB,SAAtB;AACAuB;AACD,SAJiB,CAAlB;AAKD,OAND,EAMG1C,OANH;AAOD,KATD;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD;AAnCS,CAAZ;AAqCA;AACA;AACAX,OAAOiH,GAAP,GAAaA,GAAb;QACSA,G,GAAAA,G","file":"app.js","sourcesContent":["'use strict'\n\n// const EventEmitter = require('events').EventEmitter\n// import Letters from './letters'\n// import particlesJS from './particles'\n\nconst noop = function () {}\nconst $ = window.$ || noop\n\nconst CONSTANTS = {\n  $el: 'body',\n  class: 'loading',\n  LOADING_TIMEOUT: 5000\n}\n\nlet Loaded = function (opts, loadedHandler = noop, doneHandler = noop) {\n  if (!(this instanceof Loaded)) return new Loaded(opts, loadedHandler, doneHandler)\n  let self = this\n  // self.events = new EventEmitter()\n  self.delay = opts.delay\n  self.loadedHandler = loadedHandler\n  self.doneHandler = doneHandler\n\n  self.onReady = function () {\n    let self = this\n    console.log('page ready called delay: %s', self.delay)\n    setTimeout(function () {\n      self.loadedHandler()\n      self.doneHandler()\n    }, self.delay, self)\n  }\n  return self\n}\n\nconst initEvents = (opts) => {\n  // ctrl.addEventListener('click', applyFx)¬\n  $('#read-more').click(function () {\n    // $('#read-more').addClass('hide')\n    alert('this isnt doing anything now')\n  })\n\n  $('#reload-me').click(function () {\n    $('#reload-me').addClass('hide')\n    retype()\n  })\n}\n\nconst startTyping = ({el, text}) => {\n  // $('.tech').typed({\n  $('.tech').typed({\n    strings: ['Currently I am writing applications node.js but I love python, go, and swift.'],\n    typeSpeed: 0,\n    html: true,\n    showCursor: false,\n    startDelay: 0,\n    callback: function () {\n      $('.github').typed({\n        strings: ['Check me out on <a href=\"https://github.com/epmiller8464\">Github</a>'],\n        typeSpeed: 0,\n        html: true,\n        showCursor: false,\n        startDelay: 0,\n        callback: function () {\n          $('#reload-me').removeClass('hide')\n        }\n      })\n    }\n  })\n}\n\nconst doneLoading = () => {\n  $('body').removeClass('loading')\n  retype()\n}\n\nfunction retype () {\n  $('.greeting').text('')\n  $('.intro').text('')\n  $('.skills').text('')\n  $('.tech').text('')\n  $('.github').text('')\n  $('.greeting').typed({\n    strings: ['<span class=\"br\">Hello</span>'],\n    typeSpeed: 50,\n    showCursor: false,\n    html: true,\n    callback: function () {\n      $('.intro').typed({\n        strings: ['I\\'m Eric Miller a software developer in Austin, TX.'],\n        typeSpeed: 10,\n        html: true,\n        showCursor: false,\n        startDelay: 10,\n        callback: function () {\n          $('.skills').typed({\n            strings: ['I like tight time lines and developing elegant solutions to complex problems. I am a full-stack javascript developer.'],\n            typeSpeed: 0,\n            html: true,\n            showCursor: false,\n            startDelay: 20,\n            callback: function () {\n              $('#read-more').removeClass('hide')\n            }\n          })\n        }\n      })\n    }\n  })\n}\n\nfunction VisualVoiceMail (opts, callback = noop) {\n  if (!(this instanceof VisualVoiceMail)) return new VisualVoiceMail(opts, callback)\n\n  var self = this\n  self.player = null\n  self.audioComponents = []\n  self.isMobileDevice = browser().mobile\n  self.touched = false\n\n  self.voicemailElements = {\n    $mute: null,\n    $replay: null\n  }\n\n  self.recording = {\n    $container: $('.audio-controls')\n  }\n\n  self.type = function type () {\n    var self = this\n\n    $('.voice-message-text').typed({\n      strings: ['You have reached the voice mail of Eric Miller. Please leave your name, number and a short message and i will get back to you as soon as possible. <br/> Thanks!'],\n      typeSpeed: 0.99,\n//                    startDelay: 500,\n      html: true,\n      showCursor: false,\n      startDelay: 0,\n//                    onStart: (arrayPos, self) => {console.log('on start')},\n//                    preStringTyped: (arrayPos, self) => {console.log('on preStringTyped %s %s', arrayPos, self)},\n      callback: function () {\n        $('#go-to-record').removeClass('hide').children('.glyphicon').addClass('intensifies').fadeIn()\n        var i = window.localStorage.getItem('_vm_played')\n        window.localStorage.setItem('_vm_played', ++i)\n        console.log(i)\n      }\n    })\n  }\n\n  self.loadAudioVisualControl = function loadAudioVisualControl (_cb = noop) {\n    var self = this\n\n    let cb = _cb\n    var self = this\n    var played = false// window.localStorage.getItem('_vm_played')\n    var _player = new Howl({\n      src: ['./media/em-vm.wav'],\n      autoplay: true,\n      preload: true,\n      loop: false,\n      volume: !(played) ? 0.5 : 0.1,\n      html5: true,\n      rate: 0.83,\n      mute: true\n    })\n    _player.once('load', function () {\n      console.log('audio loaded')\n      console.log(_player.duration())\n      self.type()\n      _cb(true)\n    })\n//\n    _player.on('end', function () {\n      if (!played) { window.localStorage.setItem('_vm_played', 1) }\n    })\n    return _player\n  }\n\n  self.showAudioControls = function showAudioControls () {\n    var self = this\n\n    self.recording.$container.removeClass('hide')\n  }\n\n  self.showAudioControls = function disableAudioControls () {\n    var self = this\n\n    self.recording.$container.addClass('hide')\n//            $('.audio-controls').addClass('hide')\n  }\n\n  self.bindEvents = function bindEvents () {\n    var self = this\n    smoothScroll.init()\n    $(document).ready(() => {\n      $('#top-scroll').affix({\n        offset: {\n          top: $(window).height()\n        }\n      })\n      $('[name=email]').keypress(function () {\n        if (new RegExp(/.+@.+\\..+/).test($(this).val())) {\n          $('.btn.next').removeClass('hide')\n        } else {\n          self.hideAudioControls()\n        }\n      })\n      $('[name=email]').focusout(function () {\n        if (new RegExp(/.+@.+\\..+/).test($(this).val())) {\n          $('.btn.next').removeClass('hide')\n//                    incrementStep()\n        } else {\n//                    alert('invalid asshole')\n          $(this).addClass('hasError')\n        }\n      })\n      $('.next').click(function () {\n        // 1. hide the previous step\n        // 2. enable client side socket.io code\n        self.showAudioControls()\n      })\n      $('#show-record-btn').click(function () {\n        $('#show-record-btn').children('.fa').removeClass('text-success').addClass('text-danger')\n        $('#record-container').removeClass('hide')\n      })\n    })\n  }\n\n  self.bindTouchEvents = function bindTouchEvents (cb = noop) {\n    var self = this\n    $('#alert-row').removeClass('hide')\n    var el = document.getElementsByTagName('body')[0]\n    var touched = false\n    el.addEventListener('touchstart', function () {\n      if (touched) { return }\n\n      touched = true\n      self.player = self.loadAudioVisualControl(cb)\n      cb()\n    }, false)\n  }\n\n  self.loadRecordedMessage = function loadRecordedMessage () {\n    var self = this\n    var _audioComponents = []\n    var voices = $('div[data-audio-src]').map(function (i, el) {\n      return {\n        el: '#' + $(el).prop('id'),\n        recordingKey: $(el).data('recording-key'),\n        waveFormEl: $(el).data('wave-form-container'),\n        waveform: [$(el).data('wave-form').split(',')],\n        controls: {\n          $play: $(el).find('button.play')[0],\n          $pause: $(el).find('button.pause')[0],\n          $stop: $(el).find('button.stop')[0],\n          $delete: $(el).find('button.delete')[0],\n          $status: $(el).find('.status')[0],\n          $duration: $(el).find('.duration')[0]\n        },\n        howl: {\n          src: [$(el).data('audio-src')],\n          autoplay: false,\n          preload: false,\n          loop: false,\n          volume: 0.5,\n          html5: true\n        }\n\n      }\n    }).toArray()\n\n    for (var i = 0; i < voices.length; i++) {\n      var config = voices[i]\n      var audio = new AudioComponent(config)\n      _audioComponents.push(audio)\n    }\n    return _audioComponents\n  }\n\n  self.init = function init (cb = noop) {\n    var self = this\n\n    self.bindEvents()\n    if (self.isMobileDevice) {\n      self.bindTouchEvents(cb)\n    } else {\n      self.player = self.loadAudioVisualControl(cb)\n    }\n    self.audioComponents = self.loadRecordedMessage()\n  }\n\n  self.init(callback)\n  return self\n}\n\nconst App = {\n  me: function (options, cb = noop) {\n    // let body = document.body\n    particlesJS.load('particles-js', 'particles.json', function () {\n      console.log('particlesJS loaded')\n      initEvents()\n      Loaded(options, noop, function () {\n        $('body').removeClass('loading')\n        retype()\n        cb()\n      }).onReady()\n    })\n  },\n  voicemail: (options, cb = noop) => {\n    let body = document.body\n    let visualVoiceMail = null\n\n    imagesLoaded(body, () => {\n      console.log('images loaded')\n      Loaded(options, () => {\n        visualVoiceMail = new VisualVoiceMail({}, () => {\n          console.log('done loading')\n          $('body').removeClass('loading')\n          cb()\n        })\n      }).onReady()\n    })\n    // particlesJS.load('particles-js', 'particles.json', () => {\n    //   console.log('particlesJS loaded')\n    //   initEvents()\n    //   Loading(options, handler, () => {\n    //     doneLoading()\n    //     cb()\n    //   })\n    // })\n  }\n}\n// return Loaded\n// module.exports.Loaded = Loaded\nwindow.App = App\nexport { App }\n"]}