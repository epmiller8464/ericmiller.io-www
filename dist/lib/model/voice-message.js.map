{"version":3,"sources":["../../../lib/model/voice-message.js"],"names":["mongoose","require","Schema","module","exports","moment","voiceMessageSchema","title","String","fromEmail","type","trim","lowercase","required","minLength","match","comments","Types","Object","filename","image","waveForm","isTemp","Boolean","default","created_on","Number","Date","now","read","hidden","location","meta","collection","Model","model","e"],"mappings":"AAAA;;AAEA,IAAIA,WAAWC,QAAQ,UAAR,CAAf;AACA,IAAIC,SAASF,SAASE,MAAtB;;AAEAC,OAAOC,OAAP,GAAiB,YAAY;AAC3B,MAAIC,SAASJ,QAAQ,QAAR,CAAb;AACA,MAAIK,qBAAqB,IAAIJ,MAAJ,CAAW;AAClCK,WAAOC,MAD2B;AAElCC,eAAW,EAACC,MAAMF,MAAP,EAAeG,MAAM,IAArB,EAA2BC,WAAW,IAAtC,EAA4CC,UAAU,IAAtD,EAA4DC,WAAW,CAAvE,EAA0EC,OAAO,YAAjF,EAFuB;AAGlCC,cAAU,CAAC,EAACN,MAAMV,SAASE,MAAT,CAAgBe,KAAhB,CAAsBC,MAA7B,EAAD,CAHwB;AAIlCC,cAAUX,MAJwB;AAKlCY,WAAOZ,MAL2B;AAMlCa,cAAU,EAACX,MAAMV,SAASE,MAAT,CAAgBe,KAAhB,CAAsBC,MAA7B,EANwB;AAOlCI,YAAQ,EAACZ,MAAMa,OAAP,EAAgBC,SAAS,IAAzB,EAP0B;AAQlCC,gBAAY,EAACf,MAAMgB,MAAP,EAAeF,SAASG,KAAKC,GAA7B,EAAkCf,UAAU,IAA5C,EARsB;AASlCgB,UAAM,EAACnB,MAAMa,OAAP,EAAgBC,SAAS,KAAzB,EAT4B;AAUlCM,YAAQ,EAACpB,MAAMa,OAAP,EAAgBC,SAAS,KAAzB,EAV0B;AAWlCO,cAAUvB,MAXwB;AAYlCwB,UAAM,EAACtB,MAAMV,SAASE,MAAT,CAAgBe,KAAhB,CAAsBC,MAA7B;AAZ4B,GAAX,EAatB,EAACe,YAAY,eAAb,EAbsB,CAAzB;;AAeA,MAAIC,cAAJ;AACA,MAAI;AACF;AACAA,YAAQlC,SAASmC,KAAT,CAAe,eAAf,CAAR;AACD,GAHD,CAGE,OAAOC,CAAP,EAAU;AACVF,YAAQlC,SAASmC,KAAT,CAAe,eAAf,EAAgC7B,kBAAhC,CAAR;AACD;AACD,SAAO4B,KAAP;AACD,CAzBD","file":"voice-message.js","sourcesContent":["'use strict'\n\nvar mongoose = require('mongoose')\nvar Schema = mongoose.Schema\n\nmodule.exports = function () {\n  let moment = require('moment')\n  let voiceMessageSchema = new Schema({\n    title: String,\n    fromEmail: {type: String, trim: true, lowercase: true, required: true, minLength: 1, match: /.+\\@.+\\..+/},\n    comments: [{type: mongoose.Schema.Types.Object}],\n    filename: String,\n    image: String,\n    waveForm: {type: mongoose.Schema.Types.Object},\n    isTemp: {type: Boolean, default: true},\n    created_on: {type: Number, default: Date.now, required: true},\n    read: {type: Boolean, default: false},\n    hidden: {type: Boolean, default: false},\n    location: String,\n    meta: {type: mongoose.Schema.Types.Object}\n  }, {collection: 'voice_message'})\n\n  let Model\n  try {\n    // Throws an error if \"Name\" hasn't been registered\n    Model = mongoose.model('voice_message')\n  } catch (e) {\n    Model = mongoose.model('voice_message', voiceMessageSchema)\n  }\n  return Model\n}\n"]}