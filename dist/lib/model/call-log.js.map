{"version":3,"sources":["../../../lib/model/call-log.js"],"names":["mongoose","require","Schema","module","exports","callLogSchema","read","type","Boolean","default","phone_number","String","from_country","call_sid","recording_sid","transcription_sid","call_status","timestamp","Number","read_timestamp","call_meta","Types","Object","collection","Model","model","e"],"mappings":"AAAA;;AAEA,IAAIA,WAAWC,QAAQ,UAAR,CAAf;AACA,IAAIC,SAASF,SAASE,MAAtB;;AAEAC,OAAOC,OAAP,GAAiB,YAAY;AAC3B;AACA,MAAIC,gBAAgB,IAAIH,MAAJ,CAAW;AAC7BI,UAAM,EAACC,MAAMC,OAAP,EAAgBC,SAAS,KAAzB,EADuB;AAE7BC,kBAAcC,MAFe;AAG7BC,kBAAcD,MAHe;AAI7BE,cAAUF,MAJmB;AAK7BG,mBAAeH,MALc;AAM7BI,uBAAmBJ,MANU;AAO7BK,iBAAaL,MAPgB;AAQ7BM,eAAWC,MARkB;AAS7BC,oBAAgBD,MATa;AAU7BE,eAAW,EAACb,MAAMP,SAASE,MAAT,CAAgBmB,KAAhB,CAAsBC,MAA7B;AAVkB,GAAX,EAWjB,EAACC,YAAY,UAAb,EAXiB,CAApB;;AAaA,MAAIC,cAAJ;AACA,MAAI;AACF;AACAA,YAAQxB,SAASyB,KAAT,CAAe,UAAf,CAAR;AACD,GAHD,CAGE,OAAOC,CAAP,EAAU;AACVF,YAAQxB,SAASyB,KAAT,CAAe,UAAf,EAA2BpB,aAA3B,CAAR;AACD;AACD,SAAOmB,KAAP;AACD,CAvBD","file":"call-log.js","sourcesContent":["'use strict'\n\nvar mongoose = require('mongoose')\nvar Schema = mongoose.Schema\n\nmodule.exports = function () {\n  // let {moment} = require('moment')()\n  let callLogSchema = new Schema({\n    read: {type: Boolean, default: false},\n    phone_number: String,\n    from_country: String,\n    call_sid: String,\n    recording_sid: String,\n    transcription_sid: String,\n    call_status: String,\n    timestamp: Number,\n    read_timestamp: Number,\n    call_meta: {type: mongoose.Schema.Types.Object}\n  }, {collection: 'call_log'})\n\n  let Model\n  try {\n    // Throws an error if \"Name\" hasn't been registered\n    Model = mongoose.model('call_log')\n  } catch (e) {\n    Model = mongoose.model('call_log', callLogSchema)\n  }\n  return Model\n}\n"]}