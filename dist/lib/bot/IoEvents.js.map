{"version":3,"sources":["../../../lib/bot/IoEvents.js"],"names":["module","exports","controller","on","bot","message","trigger","attachments","type","text","sticker_id","reply"],"mappings":"AAAA;;AAEAA,OAAOC,OAAP,GAAiB,UAAUC,UAAV,EAAsB;;AAErCA,aAAWC,EAAX,CAAc,gBAAd,EAAgC,UAAUC,GAAV,EAAeC,OAAf,EAAwB;AACtD;AACAH,eAAWI,OAAX,CAAmBD,QAAQE,WAAR,CAAoB,CAApB,EAAuBC,IAAvB,GAA8B,WAAjD,EAA8D,CAACJ,GAAD,EAAMC,OAAN,CAA9D;AAED,GAJD;AAKA;AACA;AACAH,aAAWC,EAAX,CAAc,kBAAd,EAAkC,UAAUC,GAAV,EAAeC,OAAf,EAAwB;;AAExD,QAAI,CAACA,QAAQI,IAAb,EAAmB;AACjB,UAAIJ,QAAQK,UAAZ,EAAwB;AACtBR,mBAAWI,OAAX,CAAmB,kBAAnB,EAAuC,CAACF,GAAD,EAAMC,OAAN,CAAvC;AACA,eAAO,KAAP;AACD,OAHD,MAGO,IAAIA,QAAQE,WAAR,IAAuBF,QAAQE,WAAR,CAAoB,CAApB,CAA3B,EAAmD;AACxDL,mBAAWI,OAAX,CAAmBD,QAAQE,WAAR,CAAoB,CAApB,EAAuBC,IAAvB,GAA8B,WAAjD,EAA8D,CAACJ,GAAD,EAAMC,OAAN,CAA9D;AACA,eAAO,KAAP;AACD;AACF;AAEF,GAZD;;AAcAH,aAAWC,EAAX,CAAc,gBAAd,EAAgC,UAAUC,GAAV,EAAeC,OAAf,EAAwB;AACtDD,QAAIO,KAAJ,CAAUN,OAAV,EAAmB,eAAnB;AACD,GAFD;;AAIAH,aAAWC,EAAX,CAAc,gBAAd,EAAgC,UAAUC,GAAV,EAAeC,OAAf,EAAwB;AACtDD,QAAIO,KAAJ,CAAUN,OAAV,EAAmB,gBAAnB;AACD,GAFD;AAGD,CA9BD","file":"IoEvents.js","sourcesContent":["'use strict'\n\nmodule.exports = function (controller) {\n\n  controller.on('start:dialogue', function (bot, message) {\n    // bot.reply(message, 'Cool sticker.')\n    controller.trigger(message.attachments[0].type + '_received', [bot, message])\n\n  })\n  // look for sticker, image and audio attachments\n  // capture them, and fire special events\n  controller.on('message_received', function (bot, message) {\n\n    if (!message.text) {\n      if (message.sticker_id) {\n        controller.trigger('sticker_received', [bot, message])\n        return false\n      } else if (message.attachments && message.attachments[0]) {\n        controller.trigger(message.attachments[0].type + '_received', [bot, message])\n        return false\n      }\n    }\n\n  })\n\n  controller.on('image_received', function (bot, message) {\n    bot.reply(message, 'Nice picture.')\n  })\n\n  controller.on('audio_received', function (bot, message) {\n    bot.reply(message, 'I heard that!!')\n  })\n}\n"]}