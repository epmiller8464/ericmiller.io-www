{"version":3,"sources":["../../routes/index.js"],"names":["express","require","router","Router","fs","path","url","get","req","res","next","render","title","use","response","uri","parse","pathname","filename","join","process","cwd","readFile","err","file","writeHead","write","end","module","exports"],"mappings":";;AAAA,IAAIA,UAAUC,QAAQ,SAAR,CAAd;AACA,IAAIC,SAASF,QAAQG,MAAR,EAAb;AACA,IAAMC,KAAKH,QAAQ,IAAR,CAAX;AACA,IAAMI,OAAOJ,QAAQ,MAAR,CAAb;AACA,IAAMK,MAAML,QAAQ,KAAR,CAAZ;AACA;AACA;AACAC,OAAOK,GAAP,CAAW,GAAX,EAAgB,UAAUC,GAAV,EAAeC,GAAf,EAAoBC,IAApB,EAA0B;AACxCD,MAAIE,MAAJ,CAAW,OAAX,EAAoB,EAACC,OAAO,SAAR,EAApB;AACD,CAFD;;AAIAV,OAAOK,GAAP,CAAW,aAAX,EAA0B,UAAUC,GAAV,EAAeC,GAAf,EAAoBC,IAApB,EAA0B;AAClDD,MAAIE,MAAJ,CAAW,YAAX,EAAyB,EAACC,OAAO,SAAR,EAAzB;AACD,CAFD;AAGAV,OAAOW,GAAP,CAAW,UAAX,EAAuB,UAACL,GAAD,EAAMM,QAAN,EAAgBJ,IAAhB,EAAyB;AAC9C,MAAIK,MAAMT,IAAIU,KAAJ,CAAUR,IAAIF,GAAd,EAAmBW,QAA7B;AAAA,MACEC,WAAWb,KAAKc,IAAL,CAAUC,QAAQC,GAAR,KAAc,UAAxB,EAAoCN,GAApC,CADb;AAEA;AACAX,KAAGkB,QAAH,CAAYJ,QAAZ,EAAsB,QAAtB,EAAgC,UAAUK,GAAV,EAAeC,IAAf,EAAqB;AACnD,QAAID,GAAJ,EAAS;AACPT,eAASW,SAAT,CAAmB,GAAnB,EAAwB;AACtB,wBAAgB;AADM,OAAxB;AAGAX,eAASY,KAAT,CAAeH,MAAM,IAArB;AACAT,eAASa,GAAT;AACA;AACD;;AAEDb,aAASW,SAAT,CAAmB,GAAnB;AACAX,aAASY,KAAT,CAAeF,IAAf,EAAqB,QAArB;AACAV,aAASa,GAAT;AACD,GAbD;AAeD,CAnBD;AAoBAC,OAAOC,OAAP,GAAiB3B,MAAjB","file":"index.js","sourcesContent":["var express = require('express')\nvar router = express.Router()\nconst fs = require('fs')\nconst path = require('path')\nconst url = require('url')\n/* GET home page. */\n/* GET home page. */\nrouter.get('/', function (req, res, next) {\n  res.render('index', {title: 'Express'})\n})\n\nrouter.get('/voice-mail', function (req, res, next) {\n  res.render('voice-mail', {title: 'Express'})\n})\nrouter.use('/uploads', (req, response, next) => {\n  var uri = url.parse(req.url).pathname,\n    filename = path.join(process.cwd()+'/uploads', uri)\n  // var filename = `./../uploads${req.url}`\n  fs.readFile(filename, 'binary', function (err, file) {\n    if (err) {\n      response.writeHead(500, {\n        'Content-Type': 'text/plain'\n      })\n      response.write(err + '\\n')\n      response.end()\n      return\n    }\n\n    response.writeHead(200)\n    response.write(file, 'binary')\n    response.end()\n  })\n\n})\nmodule.exports = router\n"]}